apiVersion: scaffolder.backstage.io/v1beta3
kind: Template
metadata:
  name: pepsico-dev-template
  title: Pepsico Dev Flow template 2.2
  description: The Pepsico Dev Flow
  tags:
    - service-now
    - pepsico
    - pepsico-dev-flow
    - argocd
    - azuredevops
    - tekton
    - sonarqube
spec:
  owner: rhdh
  type: service
  

  parameters:
    - title: Provide Approval Code ID for the request 
      required:
        - approvalcode
      properties:
        approvalcode:
          title: Service Now Approval Code
          type: string         
  steps:
    - id: snowretrieve
      name: Snow
      action: servicenow:now:table:retrieveRecord
      input:
        tableName: u_employeename
        sysId: "${{ parameters.approvalcode }}"
        
        
  output:
    text:
    - title: Service Now Approval Code
      content: Flow Approved with this code ID $${{ steps.snowretrieve.output.result.sys_id }}
      
        
       
