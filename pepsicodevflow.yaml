apiVersion: scaffolder.backstage.io/v1beta3
kind: Template
metadata:
  name: pepsico-dev-template
  title: Pepsico Dev Flow template
  description: Create a record in ServiceNow on pessoa table
  tags:
    - service-now
    - pepsico
    - pepsico-dev-flow
    - argocd
    - azuredevops
    - tekton
    - sonarqube
spec:
  owner: pepsico
  type: service
  

  parameters:
    - title: Service Now SSYD to Retrieve the approval 
      required:
        - snowSysid
      properties:
        snowName:
          title: Service Now System ID
          type: string      
  steps:
    - id: snowcreate
      name: Snow
      action: servicenow:now:table:retrieveRecord
      input:
        tableName: u_pessoa
        requestBody: {
          u_namename: "${{ parameters.snowName }}"
        }
        
  output:
    text:
    - title: Name Field
      content: Entered Name "${{ parameters.snowName }}"
    - title: SysID
      content: Create record with this ID "${{ steps.snowcreate.output.sys_id }}"
      
        
       
